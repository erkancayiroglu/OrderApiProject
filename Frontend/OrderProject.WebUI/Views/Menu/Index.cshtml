@model List<CategoryProductDto>
@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
@await Component.InvokeAsync("_HeadPartial")
<body>
    <div class="container-xxl bg-white p-0">

     
@await Component.InvokeAsync("_NavbarPartial")

        @await Component.InvokeAsync("_MenuCoverPartial")
        @await Component.InvokeAsync("_CategoryPartial")
        
 
        <div class="container">
            <div class="container">
                <div class="d-flex flex-wrap gap-4 justify-content-start">
                   @foreach (var product in Model)
                    {
                        <div class="card shadow-sm border-0 rounded-3" style="width: 18rem; transition: transform 0.3s;">
                            <img src="~/productImages/@product.ImageUrl" class="card-img-top rounded-top-3" alt="@product.Name"
                                 onerror="this.onerror=null; this.src='~/img/default-image.png';" />
                            <div class="card-body d-flex flex-column">
                                <h5 class="card-title text-truncate" title="@product.Name">@product.Name</h5>
                                <p class="card-text fw-bold text-black" title="@product.Price">@product.Price ₺</p>

                                @if (User.Identity.IsAuthenticated)
                                {
                                    <form asp-controller="Sepet" asp-action="AddToCard" asp-route-productId="@product.Id" method="post" class="mt-auto">
                                        <input type="hidden" name="productId" value="@product.Id" />
                                        <button type="submit" class="btn btn-danger w-100">Sepete Ekle</button>

                                    </form>
                                }
                            </div>
                        </div>
                    }
                </div>
            </div>

       <style>
    .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.2);
    }

    .card-img-top {
        object-fit: contain;
        height: 230px;
        background-color: #f8f9fa;
        padding: 10px;
    }

  
    .btn-success {
        transition: background-color 0.3s, transform 0.2s;
    }

    .btn-success:hover {
        background-color: #198754; 
        transform: scale(1.03);      
    }
</style>

        
       
       

        
    </div>
    <br />
    <br />
    @await Component.InvokeAsync("_FooterPartial")
        <a href="#" class="btn btn-lg btn-dark btn-lg-square back-to-top"><i class="bi bi-arrow-up"></i></a>
    @await Component.InvokeAsync("_ScriptsPartial")
 
    <script src="js/main.js"></script>
</body>

</html>